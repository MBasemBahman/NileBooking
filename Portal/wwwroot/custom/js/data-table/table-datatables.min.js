function assignUlErrors(n){let t="<ul>";return n.forEach(n=>{n.errorMessage!==""&&(t+=`<li>${n.errorMessage}</li>`)}),t+="<\/ul>"}$("body").on("change",".filter-input",function(n){n.preventDefault();$(".dataTable").length>0&&$(".dataTable").DataTable().draw()});$(".filter-submit-btn").on("click",function(n){n.preventDefault();$(".dt-date").each(function(){$(this).val("")});$("select.filter-input").each(function(){var n=$(this).children("option").filter(function(){return $(this).val()=="0"}).length;n==1?$(this).val("0").change():$(this).val("").change()});$(".dataTable").length>0&&$(".dataTable").DataTable().draw()});$(".flatpickr-input").on("change",function(){var n=$(this).val();n.includes("to")&&$("#ToText").length>0&&(n=n.replace("to",$("#ToText").val()),$(this).val(n))});$(document).on("click",".modal-btn-edit",function(n){n.preventDefault();$.ajax({url:$(this).attr("href"),method:"GET",beforeSend:function(){$("#cover-spin").show()},complete:function(){$("#cover-spin").hide()},success:function(n){$(".general-modal-form-content").html(n);$("#general-modal").modal("show")}})});$(document).on("click",".modal-btn-delete",function(n){n.preventDefault();let t=$(this).attr("href");$(".form-delete").attr("action",t);$("#delete-modal").modal("show")});$(document).on("click",".modal-btn-details",function(n){n.preventDefault();$.ajax({url:$(this).attr("href"),method:"GET",beforeSend:function(){$("#cover-spin").show()},complete:function(){$("#cover-spin").hide()},success:function(n){$(".general-modal-form-content").html(n);$("#general-modal").modal("show")}})});$(document).on("click",".modal-btn-edit-side",function(n){n.preventDefault();$.ajax({url:$(this).attr("href"),method:"GET",beforeSend:function(){$("#cover-spin").show()},complete:function(){$("#cover-spin").hide()},success:function(n){$("#offcanvasAddItem").html(n);var t=new bootstrap.Offcanvas($("#offcanvasAddItem"));t.show()}})});$(document).on("submit","#general-modal",function(n){n.preventDefault();let t=$(".general-modal-form-content form"),i=new FormData(t[0]);$.ajax({type:t.attr("method"),url:t.attr("action"),data:i,contentType:!1,processData:!1,beforeSend:function(){$("#cover-spin").show()},complete:function(){$("#cover-spin").hide()},success:function(){$(".dataTable").length>0&&$(".dataTable").DataTable().draw();$(".gridView").length>0&&loadRows();$("#general-modal").modal("hide");$("#success-modal").modal("show")},error:function(n){let t=assignUlErrors(n.responseJSON);$(".validation-summary-valid").html(t)}})});$(document).on("submit",".form-delete",function(n){n.preventDefault();$.ajax({url:$(this).attr("action"),method:$(this).attr("method"),beforeSend:function(){$("#cover-spin").show()},complete:function(){$("#cover-spin").hide()},success:function(){$(".dataTable").length>0&&$(".dataTable").DataTable().draw();$(".gridView").length>0&&loadRows();$("#delete-modal").modal("hide");$("#success-modal").modal("show")},error:function(n){let t=assignUlErrors(n.responseJSON);console.log(t);$(".delete-validation-summary-valid").html(t)}})});$(document).on("submit","#offcanvasAddItem",function(n){n.preventDefault();var t=$("#offcanvasAddItem form"),i=new FormData(t[0]);$.ajax({type:$("#offcanvasAddItem form").attr("method"),url:$("#offcanvasAddItem form").attr("action"),data:i,contentType:!1,processData:!1,beforeSend:function(){$("#cover-spin").show()},complete:function(){$("#cover-spin").hide()},success:function(){$(".dataTable").length>0&&$(".dataTable").DataTable().draw();$(".gridView").length>0&&loadRows();let n=bootstrap.Offcanvas.getInstance($("#offcanvasAddItem"));n.hide();$("#offcanvasAddItem").empty();$("#success-modal").modal("show")},error:function(n){let t=assignUlErrors(n.responseJSON);$(".validation-summary-valid").html(t)}})});$(function(){let n,t,i;isDarkStyle?(n=config.colors_dark.borderColor,t=config.colors_dark.bodyBg,i=config.colors_dark.headingColor):(n=config.colors.borderColor,t=config.colors.bodyBg,i=config.colors.headingColor);var r=$(".dataTable");r.length&&$.extend(!0,$.fn.dataTable.defaults,{scrollX:!0,stateSave:!0,autoWidth:!0,processing:!0,serverSide:!0,paging:!0,searching:{regex:!0},columnDefs:[{targets:-1,title:$("#ActionsLbl").val(),searchable:!1,orderable:!1,render:function(n,t,i){let r='<div class="d-flex align-items-center">';if($("#edit").attr("href")!=undefined){let n="";$("#edit").hasClass("open-modal")?n="modal-btn-edit":$("#edit").hasClass("open-modal-side")&&(n="modal-btn-edit-side");r+=`<a href="${$("#edit").attr("href")}/${i.id}" class="text-body ${n}"><i class="ti ti-edit ti-sm me-2"></i></a>`}if($("#delete").attr("href")!=undefined){let n="";$("#delete").hasClass("open-modal")&&(n="modal-btn-delete");r+=`<a href="${$("#delete").attr("href")}/${i.id}" class="text-body ${n}"><i class="ti ti-trash ti-sm me-2"></i></a>`}if($("#details").attr("href")!=undefined){let n="";$("#details").hasClass("open-modal")&&(n="modal-btn-details");r+=`<a href="${$("#details").attr("href")}/${i.id}" class="text-body ${n}"><i class="ti ti-eye ti-sm me-2"></i></a>`}return r+="<\/div>"}}],order:[[0,"desc"]],dom:'<"row me-2"<"col-md-2"<"me-3"l>><"col-md-10"<"dt-action-buttons text-xl-end text-lg-start text-md-end text-start d-flex align-items-center justify-content-end flex-md-row flex-column mb-3 mb-md-0"fB>>>t<"row mx-2"<"col-sm-12 col-md-6"i><"col-sm-12 col-md-6"p>>',language:{sLengthMenu:"_MENU_",searchPlaceholder:$("#SearchLbl").val()+" ....",search:$("#SearchLbl").val(),paginate:{previous:$("#PrevLbl").val(),next:$("#NextLbl").val()}},buttons:[{extend:"collection",className:"btn btn-label-secondary dropdown-toggle mx-3",text:'<i class="ti ti-screen-share me-1 ti-xs"><\/i>'+$("#ExportLbl").val(),buttons:[{extend:"print",text:'<i class="ti ti-printer me-2" ><\/i>'+$("#PrintLbl").val(),className:"dropdown-item",customize:function(r){$(r.document.body).css("color",i).css("border-color",n).css("background-color",t);$(r.document.body).find("table").addClass("compact").css("color","inherit").css("border-color","inherit").css("background-color","inherit")}},{extend:"csv",text:'<i class="ti ti-file-text me-2" ><\/i>'+$("#ExcelLbl").val(),className:"dropdown-item"},{extend:"excel",text:'<i class="ti ti-file-spreadsheet me-2"><\/i> $("#ExcelLbl").val()',className:"dropdown-item"},{extend:"pdf",text:'<i class="ti ti-file-code-2 me-2"><\/i>'+$("#PdfLbl").val(),className:"dropdown-item"},{extend:"copy",text:'<i class="ti ti-copy me-2" ><\/i>'+$("#CopyLbl").val(),className:"dropdown-item"}]},{text:'<i class="ti ti-plus me-0 me-sm-1 ti-xs"><\/i><span class="d-none d-sm-inline-block">'+$("#AddNewLbl").val()+"<\/span>",className:"add-new btn btn-primary",attr:{"data-bs-toggle":"offcanvas","data-bs-target":"#offcanvasAddUser"},init:function(n,t){$("#create").attr("href")==undefined?$(t).hide():$(t).removeClass("btn-secondary")},action:function(){var n;$("#create").hasClass("open-modal")?(n=$("#create").attr("href"),$.ajax({url:n,method:"GET",beforeSend:function(){$("#cover-spin").show()},complete:function(){$("#cover-spin").hide()},success:function(n){$(".general-modal-form-content").html(n);$("#general-modal").modal("show")}})):$("#create").hasClass("open-modal-side")?(n=$("#create").attr("href"),$.ajax({url:n,method:"GET",beforeSend:function(){$("#cover-spin").show()},complete:function(){$("#cover-spin").hide()},success:function(n){$("#offcanvasAddItem").html(n);var t=new bootstrap.Offcanvas($("#offcanvasAddItem"));t.show()}})):window.location=$("#create").attr("href")}}]})});